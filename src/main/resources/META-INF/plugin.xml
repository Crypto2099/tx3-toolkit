<idea-plugin>
    <id>io.txpipe.tx3</id>
    <name>Tx3 Toolkit</name>
    <vendor url="https://github.com/adamkdean">Adam K. Dean</vendor>
    <description><![CDATA[
        <b>Tx3 Toolkit â€” JetBrains IDE support for the Tx3 language by TxPipe.</b>
        <br/><br/>
        Tx3 is a DSL for describing UTxO protocol interfaces on Cardano.
        This plugin provides:
        <ul>
          <li>ğŸ¨ Full syntax highlighting with a custom color scheme</li>
          <li>âœ… Smart code completion (keywords, types, defined symbols)</li>
          <li>ğŸ’¡ Type-aware inlay hints on inputs and outputs</li>
          <li>ğŸ“ Code folding for <code>tx</code>, <code>record</code>, <code>party</code>, <code>policy</code> blocks</li>
          <li>ğŸ—‚ï¸ Structure view &amp; file outliner</li>
          <li>âš¡ Live templates for common Tx3 patterns</li>
          <li>ğŸš¨ Error annotations with quick fixes</li>
          <li>ğŸ“ File icon for <code>.tx3</code> files</li>
        </ul>
    ]]></description>

    <depends>com.intellij.modules.platform</depends>
    <depends>com.intellij.modules.lang</depends>
    <resource-bundle>Tx3Bundle</resource-bundle>

    <extensions defaultExtensionNs="com.intellij">

        <!-- â”€â”€ File Type â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ -->
        <fileType
                name="Tx3 File"
                implementationClass="io.txpipe.tx3.intellij.Tx3FileType"
                fieldName="INSTANCE"
                language="Tx3"
                extensions="tx3"/>

        <!-- â”€â”€ Language & Parser â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ -->
        <lang.parserDefinition
                language="Tx3"
                implementationClass="io.txpipe.tx3.intellij.parser.Tx3ParserDefinition"/>

        <!-- â”€â”€ Syntax Highlighting â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ -->
        <lang.syntaxHighlighterFactory
                language="Tx3"
                implementationClass="io.txpipe.tx3.intellij.highlighting.Tx3SyntaxHighlighterFactory"/>


        <additionalTextAttributes
                scheme="Default"
                file="colorschemes/Tx3Default.xml"/>

        <additionalTextAttributes
                scheme="Darcula"
                file="colorschemes/Tx3Darcula.xml"/>

        <!-- â”€â”€ Semantic Annotations (type hints, errors) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ -->
        <annotator
                language="Tx3"
                implementationClass="io.txpipe.tx3.intellij.highlighting.Tx3Annotator"/>

        <!-- â”€â”€ Inlay Hints â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ -->
        <codeInsight.inlayProvider
                language="Tx3"
                implementationClass="io.txpipe.tx3.intellij.hints.Tx3InlayHintsProvider"/>

        <!-- â”€â”€ Code Completion â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ -->
        <completion.contributor
                language="Tx3"
                implementationClass="io.txpipe.tx3.intellij.completion.Tx3CompletionContributor"/>

        <!-- â”€â”€ Code Folding â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ -->
        <lang.foldingBuilder
                language="Tx3"
                implementationClass="io.txpipe.tx3.intellij.folding.Tx3FoldingBuilder"/>

        <!-- â”€â”€ Structure View â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ -->
        <lang.psiStructureViewFactory
                language="Tx3"
                implementationClass="io.txpipe.tx3.intellij.structure.Tx3StructureViewFactory"/>

        <!-- â”€â”€ Commenter â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ -->
        <lang.commenter
                language="Tx3"
                implementationClass="io.txpipe.tx3.intellij.Tx3Commenter"/>



        <!-- â”€â”€ Find Usages â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ -->
        <lang.findUsagesProvider
                language="Tx3"
                implementationClass="io.txpipe.tx3.intellij.Tx3FindUsagesProvider"/>

        <!-- â”€â”€ Reference Contributor (go-to-def) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ -->
        <psi.referenceContributor
                language="Tx3"
                implementation="io.txpipe.tx3.intellij.Tx3ReferenceContributor"/>


        <!-- â”€â”€ Live Templates â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ -->
        <defaultLiveTemplates file="liveTemplates/Tx3.xml"/>
        <liveTemplateContext
                implementation="io.txpipe.tx3.intellij.Tx3TemplateContextType"
                contextId="TX3"/>

        <!-- â”€â”€ Formatter â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ -->
        <lang.formatter
                language="Tx3"
                implementationClass="io.txpipe.tx3.intellij.formatting.Tx3FormattingModelBuilder"/>

        <!-- â”€â”€ Code Style Settings â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ -->

        <langCodeStyleSettingsProvider
                implementation="io.txpipe.tx3.intellij.formatting.Tx3LanguageCodeStyleSettingsProvider"/>


        <!-- â”€â”€ Typed Handler (auto-close braces) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ -->
        <typedHandler
                implementation="io.txpipe.tx3.intellij.Tx3TypedHandler"/>

        <!-- â”€â”€ Enter Handler â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ -->
        <enterHandlerDelegate
                implementation="io.txpipe.tx3.intellij.Tx3EnterHandler"/>

    </extensions>

    <actions>
        <action
                id="Tx3.NewFile"
                class="io.txpipe.tx3.intellij.actions.Tx3NewFileAction"
        >
            <add-to-group group-id="NewGroup" anchor="before" relative-to-action="NewFile"/>
        </action>
    </actions>
</idea-plugin>